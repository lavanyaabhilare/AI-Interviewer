{% load static %}

<!DOCTYPE HTML>
<!--
	Escape Velocity by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>Hirebot.IO</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="{% static 'assets/css/main.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> 
    <style>
        .popup{
            position: absolute;
            box-shadow: 5px 5px 5px grey;
            justify-content: center;
            z-index: 10;
            /*margin: 13.4% 20% 20% 20%;*/
            margin-top: 60%;
            padding: 10px;
            background-color:white;
            border: 2px solid rgb(0, 153, 255);
            border-radius: 7px;
            align-items: center;
            display: flex;
            max-height: 150px;
            max-width: 40%;
            min-height: 130px;
            min-width: 35%;
            color: rgb(0, 255, 42);
        }
        .main_popup{
            
            visibility: hidden;
            z-index: 10;
            width: 100%;
            justify-content: center;
            align-items: center;
            display: flex;
            height: 30%;
            margin-top: 10px;
            padding: 5%;
            position: absolute;
            
        }
    
    </style>
        
</head>

    <!-- <span class="material-icons-outlined">
        check_circle
        </span>

        <span class="material-icons-outlined">
            error
            </span> -->

            

<body class="homepage is-preload">

    <div class="main_popup">
        <div class="popup">
            <!-- <span class="material-icons-outlined" id="popup_icon"></span> -->
            <h6 id="Error_Messgae"></h6> 
           
        </div>
    </div>
    <div id="page-wrapper">

        


        <!-- Header -->
        <section style="height: 400px;" id="header" class="wrapper">

            <!-- Logo -->
            <div id="logo">
                <h1><a href="about.html"> HIREBOT.IO </a></h1>
                <p>An AI based virtual interviewer. </p>
            </div>

            <nav id="nav">
                <ul style="border: 2px solid grey; border-radius: 16px;">

                    <style>
                        #myaccount_list {
                            border: 1px solid gray;
                            border-radius: 16px;
                            margin: 3px;
                            padding: 2px;
                            text-align: center;
                        }
                    </style>


                    <li class="current"><a href="#">Home</a></li>
                    <li id="user_not_active">
                        
                        
                        <a href="#" onclick="main_div_toggle()"> My Account </a>
                        <ul id="myaccount_list">
                            <li><a href="#main" onclick="show_login_form()"> Login </a></li>
                            <li><a href="#main" onclick="show_signup_form()">Signup</a></li>
                        </ul>
                    </li>
                    
                    
                </ul>
                <script type="text/javascript">
                    $(".depth-1").click(()={
                        show_login_form()
                    })
                </script>
                <!-- <p>logo</p> -->

            </nav>

        </section>


        <!-- section for login signup form starts -->

        <section style="background: #f0f8ff;" id="main" class="wrapper style2">
            <div style="background: #f0f8ff;" class="title"> Account </div>
            <div class="container">
                
                <!-- style for login signup form start -->
                <style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap');
        
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                        font-family: 'Poppins', sans-serif;
                    }
        
                    ::selection {
                        background: rgba(26, 188, 156, 0.3);
                    }
        
                    .form_container {
                        max-width: 440px;
                        padding: 0 20px;
                        margin: 0px auto;
                    }
        
                    .form_wrapper {
                        width: 100%;
                        background: #fff;
                        border-radius: 5px;
                        box-shadow: 0px 4px 10px 1px rgba(0, 0, 0, 0.1);
                    }
        
                    .form_wrapper .form_title {
                        height: 90px;
                        background: #16a085;
                        border-radius: 5px 5px 0 0;
                        color: #fff;
                        font-size: 30px;
                        font-weight: 600;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
        
                    .form_wrapper form {
                        padding: 30px 25px 25px 25px;
                    }
        
                    .form_wrapper form .form_row {
                        height: 45px;
                        margin-bottom: 15px;
                        position: relative;
                    }
        
                    .form_wrapper form .form_row input {
                        height: 100%;
                        width: 100%;
                        outline: none;
                        padding-left: 60px;
                        border-radius: 5px;
                        border: 1px solid lightgrey;
                        font-size: 16px;
                        transition: all 0.3s ease;
                    }
        
                    form .form_row input:focus {
                        border-color: #16a085;
                        box-shadow: inset 0px 0px 2px 2px rgba(26, 188, 156, 0.25);
                    }
        
                    form .form_row input::placeholder {
                        color: #999;
                    }
        
                    .form_wrapper form .form_row i {
                        position: absolute;
                        width: 47px;
                        height: 100%;
                        color: #fff;
                        font-size: 18px;
                        background: #16a085;
                        border: 1px solid #16a085;
                        border-radius: 5px 0 0 5px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
        
                    .form_wrapper form .form_pass {
                        margin: -8px 0 20px 0;
                    }
        
                    .form_wrapper form .form_pass a {
                        color: #16a085;
                        font-size: 17px;
                        text-decoration: none;
                    }
        
                    .form_wrapper form .form_pass a:hover {
                        text-decoration: underline;
                    }
        
                    .form_wrapper form .form_button input {
                        color: #fff;
                        font-size: 20px;
                        font-weight: 500;
                        padding-left: 0px;
                        background: #16a085;
                        border: 1px solid #16a085;
                        cursor: pointer;
                    }
        
                    form .form_button input:hover {
                        background: #12876f;
                    }
        
                    .form_wrapper form .signup-link {
                        text-align: center;
                        margin-top: 20px;
                        font-size: 17px;
                    }
        
                    .form_wrapper form .signup-link a {
                        color: #16a085;
                        text-decoration: none;
                    }
        
                    form .signup-link a:hover {
                        text-decoration: underline;
                    }
                </style>
                <!-- style for login signup form end -->

                <style>

                    #final_msg_signup {
                        margin: 10%;
                        padding: 5%;
                        text-align: center;
                    }

                    #success_message {
                        font-size: larger;
                        font-weight: 500;
                        text-align: center;
                    }

                    #close_main_div_icon {
                        margin-right: 5px;
                        margin-top: 5px;
                        position: absolute;
                        right: 0.1%;
                        top: 1%;
                        cursor: pointer;
                    }

                    .loading_video {
                        height: 100%;
                    }

                </style>

                <span id="close_main_div_icon" onclick="close_main_div()" class="material-icons">cancel</span>

                <div id="final_msg_signup">
                    <h1 id="success_message" style="color: green;">Account created successfully !</h1>
                </div>
                
                <div id="final_msg_login">
                    <h1 id="success_message" style="color: green;">Login successful !</h1>
                </div>
                 

                <div id="final_msg_fp">
                    <h1 id="success_message" style="color: green;">Password changed successfully !</h1>
                </div>


            <!-- form login start -->
            <div id="login_form_active">
                <div class="form_container">
                    <div class="form_wrapper">
                        <div class="form_title"><span>Login</span></div>
                        <form id="login_form" method="POST">

                            {% csrf_token %}
                            
                            <div id="login_invalid" class="form_row">
                                <p style="color: red; text-align: center;"> Invalid Creadentials !</p>
                            </div>
                            <div class="form_row">
                                <i class="fas fa-envelope"></i>
                                <input style="color: black;" type="text" id="login_email" placeholder="Email or Phone" required>
                            </div>
                            <div class="form_row">
                                <i class="fas fa-lock"></i>
                                <input style="color: black;" type="password" id="login_password" placeholder="Password" required>
                            </div>
                            <div class="form_pass"><a href="#main" onclick="show_forgot_password()">Forgot password?</a></div>
                            <div id="login_btn" style="text-align: center;" class="form_row form_button">
                                <!-- <input type="submit" value="Login"> -->
                            <button style="text-align: center; color: white;" type="submit">Login</button>
                            </div>
                            
                            <div id="loading_login_btn" style="text-align: center; " class="form_row form_button">
                                <button style="text-align: center; color: white; background-color: black;" type="button">
                                    <video id="ld1" class="loading_video" loop muted>
                                        <source src="{% static 'videos/loading.mp4' %}" type="video/mp4">
                                    </video>
                                </button>
                            </div>
                            <div style="color: black;" class="signup-link">Don't have an account? <a style="color: green;" href="#main" onclick="toggle_forms()">Create account</a></div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- form login end -->


            <!-- form signup start -->
            <div id="signup_form_active">
                <div class="form_container">
                    <div class="form_wrapper">
                        <div class="form_title"><span>Create account</span></div>
                        <form id="signup_form" method="POST">

                            {% csrf_token %}

                            <div class="form_row">
                                <i class="fas fa-user"></i>
                                <input style="color: black;" type="text" id="signup_user_name" placeholder="First name" required>
                            </div>
                            <div class="form_row">
                                <i class="fas fa-envelope"></i>
                                <input style="color: black;" type="email" id="signup_email" placeholder="Your Email" required>
                                <!-- <p style="color: red;" id="signup_email_error_msg">This email is already in use!</p> -->
                            </div>
                            <div style="margin-top: 0px; margin-bottom: 0px;" id="signup_email_error_msg_div">
                                <p style="color: red; text-align: center; margin-top: 0px; margin-bottom: 7px;">
                                    This email is already in use!</p>
                            </div>
                            <div class="form_row">
                                <i class="fas fa-lock"></i>
                                <input style="color: black;" type="password" id="signup_password" placeholder="Create password" required>
                            </div>
                            <div class="form_row">
                                <i class="fas fa-lock"></i>
                                <input style="color: black;" type="password" id="signup_confirm_password" placeholder="Confirm password" required>
                            </div>
                            <div class="form_pass">
                                <p style="text-align: center; margin-bottom: 1px;">Password should have at least 1 uppercase, 1 lowercase,
                                    1 special character & 1 number.
                            </p></div>
                            <div id="signup_btn" style="text-align: center;" class="form_row form_button">
                                <button style="text-align: center; color: white;" type="submit">Create account</button>
                            </div>
                            
                            <div id="loading_signup_btn" style="text-align: center; " class="form_row form_button">
                                <button style="text-align: center; color: white; background-color: black;" type="button">
                                    <video id="ld2" class="loading_video" loop muted>
                                        <source src="{% static 'videos/loading.mp4' %}" type="video/mp4">
                                    </video>
                                </button>
                            </div>
                            <div style="color: black;" class="signup-link">Already have an account? <a style="color: green;" href="#main" onclick="toggle_forms()">Login</a></div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- form signup end -->
                
                
            <!-- form otp verification start -->
            <div id="otp_verification_form_active">
                <div class="form_container">
                    <div class="form_wrapper">
                        <div class="form_title"><span>Verify Email</span></div>
                        <form id="otp_verification_form" method="POST">

                            {% csrf_token %}

                            <p style="color: black;" id="messeage_opt_verification"></p>

                            <div class="form_row">
                                <i class="fas fa-key"></i>
                                <input style="color: black;" type="text" id="signup_otp_verification" placeholder="Enter OTP" required>
                            </div>
                            
                            <!-- <div class="form_pass"><a href="#">Forgot password?</a></div> -->
                            <div id="otp_v_btn" style="text-align: center;" class="form_row form_button">
                                <button style="text-align: center; color: white;" type="submit">Verify Email</button>
                            </div>
                            
                            <div id="loading_otp_v_btn" style="text-align: center; " class="form_row form_button">
                                <button style="text-align: center; color: white; background-color: black;" type="button">
                                    <video id="ld3" class="loading_video" loop muted>
                                        <source src="{% static 'videos/loading.mp4' %}" type="video/mp4">
                                    </video>
                                </button>
                            </div>
                            <!-- <div class="signup-link">Already have an account? <a href="#main" onclick="toggle_forms()">Login</a></div> -->
                        </form>
                    </div>
                </div>
            </div>
            <!-- form otp verification end -->

            <!-- form forgot password start -->
            <div id="fp_form_active">
                <div class="form_container">
                    <div class="form_wrapper">
                        <div class="form_title"><span>Forgot Password</span></div>
                        <form id="fp_form" method="POST" novalidate>

                            {% csrf_token %}

                            <!-- <p styleloading_video="color: black;" id="messeage_opt_verification"></p> -->

                            <div id="fp_email_div" class="form_row">
                                <i class="fas fa-envelope"></i>
                                <input style="color: black;" type="text" id="fp_email" placeholder="Enter your Email" required>
                            </div>
                            
                            <div style="margin-top: 0%; margin-bottom: 0%;" id="fp_email_error" class="form_row">
                                <p style="color: red; text-align: center; margin-top: 0px; margin-bottom: 7px;">
                                    This user doesn't exists !</p>
                            </div>
                            
                            <div id="fp_email_otp_div" class="form_row">
                                <i class="fas fa-key"></i>
                                <input style="color: black;" type="text" id="fp_email_otp" placeholder="Enter OTP" required>
                            </div>
                            
                            <div style="margin-top: 0%; margin-bottom: 0%;" id="fp_email_otp_error" class="form_row">
                                <p style="color: red; text-align: center;">Invalid OTP !</p>
                            </div>

                            <div id="fp_new_password_div" class="form_row">
                                <i class="fas fa-lock"></i>
                                <input style="color: black;" type="text" id="fp_new_password" placeholder="Enter new password" required>
                            </div>
                            
                            <div id="fp_new_re_password_div" class="form_row">
                                <i class="fas fa-lock"></i>
                                <input style="color: black;" type="text" id="fp_new_re_password" placeholder="Re-enter new password" required>
                            </div>
                            
                            <div style="color: black;" class="signup-link"><a style="color: green;" href="#main" class="fp_back_form">Go Back</a></div>
                           <br>
                           
                            <div id="fp_btn1" style="text-align: center;" class="form_row form_button">
                                <button style="text-align: center; color: white;" type="submit">Verify User</button>
                            </div>
                            <div id="fp_btn2" style="text-align: center;" class="form_row form_button">
                                <button style="text-align: center; color: white;" type="submit">Verify Email</button>
                            </div>
                            <div id="fp_btn3" style="text-align: center;" class="form_row form_button">
                                <button style="text-align: center; color: white;" type="submit">Reset Password</button>
                            </div>
                            
                             <div id="loading_fp_btn" style="text-align: center; " class="form_row form_button">
                                <button style="text-align: center; color: white; background-color: black;" type="button">
                                    <video id="ld4" class="loading_video" loop muted>
                                        <source src="{% static 'videos/loading.mp4' %}" type="video/mp4">
                                    </video>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- form forgot password end -->


                <!-- Scripts for All forms starts here -->
                <script type="text/javascript">

                    forgot_password_active_btn = "";
                    document.getElementById('fp_btn1').onclick = function () {
                            forgot_password_active_btn = "fp_btn1";
                    };
                    document.getElementById('fp_btn2').onclick = function () {
                            forgot_password_active_btn = "fp_btn2";
                    };
                    document.getElementById('fp_btn3').onclick = function () {
                            forgot_password_active_btn = "fp_btn3";
                    };

                    function close_main_div() {
                        console.log("close_main_div() running...");
                        $("#main").fadeOut(1);
                    }


                    $("#login_form_active").fadeOut(1);
                    //$("#signup_form_active").fadeOut(1);
                    $("#otp_verification_form_active").fadeOut(1);
                    $("#fp_form_active").fadeOut(1);
                    $("#main").fadeOut(1);
                    $("#user_not_active").fadeIn(1);
                    //$("#user_active").fadeOut(1);
                    $("#login_error_msg").fadeOut(1);
                    $("#final_msg_signup").fadeOut(1);
                    $("#final_msg_login").fadeOut(1);
                    $("#signup_email_error_msg_div").fadeOut(1);
                    $("#fp_email_error").fadeOut(1);
                    $("#fp_email_otp_div").fadeOut(1);
                    $("#fp_email_otp_error").fadeOut(1);
                    $("#fp_new_password_div").fadeOut(1);
                    $("#fp_new_re_password_div").fadeOut(1);
                    $("#final_msg_fp").fadeOut(1);
                    $("#login_invalid").fadeOut(1);
                    $("#fb_btn1").fadeIn(1);
                    $("#fp_btn2").fadeOut(1);
                    $("#fp_btn3").fadeOut(1);
                    
                    $("#loading_login_btn").fadeOut(1);
                    $("#loading_signup_btn").fadeOut(1);
                    $("#loading_otp_v_btn").fadeOut(1);
                    $("#loading_fp_btn").fadeOut(1);


                    $(document).on('submit', '#fp_form', function(e) {
                        e.preventDefault();
                        
                      
                        
                        var otp_regex = /^[0-9]+$/;
                        var email_regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                        var password_regex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;
                        var request_for = "";

                        console.log(forgot_password_active_btn);
                        
                        switch (forgot_password_active_btn) {

                            case "fp_btn1":

                                var fp_email = $("#fp_email").val();
                                var correct_email = false;
                                console.log(fp_email, correct_email)

                                if (email_regex.test(fp_email)) {
                                    correct_email = true;
                                    request_for = "verify user";
                                    $("#fp_email").css('border', '2px solid green');
                                    //alert("correct email");
                                }
                                else {
                                    correct_email = false;
                                    request_for = "";
                                    $("#fp_email").css('border', '2px solid red');
                                    //alert("incorrect email");
                                }

                                if (correct_email) {
                                    $("#loading_fp_btn").fadeIn(1);
                                    $("#fp_btn1").fadeOut(1);
                                    $("#fp_btn2").fadeOut(1);
                                    $("#fp_btn3").fadeOut(1);
                                    var load_vid = document.getElementById("ld4");
                                    load_vid.play();
                                    $.ajax({
                                        type: 'POST',
                                        url: 'forgot_password',
                                        data: {
                                            'fp_email': fp_email,
                                            'request_for': request_for,
                                            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                        },

                                        success: function (response) {

                                            console.log("Status :: " + response.status);
                                            console.log("User Email :: " + response.user_email);
                                            console.log("Next action :: " + response.next_action);
                                            console.log("Error message :: " + response.error_message);

                                            if (response.status) {
                                                $("#fp_email_otp_div").fadeIn(1);
                                                $("#fp_email_error").fadeOut(1);
                                                $("#fp_email").css('border', '2px solid green');
                                                $("#fp_btn1").fadeOut(1);
                                                $("#fp_btn2").fadeIn(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                                //$("#fp_btn3").fadeOut(1);
                                            }
                                            else {
                                                $("#fp_email_error").fadeIn(1);
                                                //$("#fp_email_otp_div").fadeOut(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                                $("#fp_btn1").fadeIn(1);
                                                //$("#fp_btn2").fadeOut(1);
                                                //$("#fp_btn3").fadeOut(1);
                                                $("#fp_email").css('border', '2px solid red');
                                            }
                                        }
                                    })
                                }

                            break;
                            
                            case "fp_btn2":

                                var fp_email = $("#fp_email").val();
                                var fp_email_otp = $("#fp_email_otp").val();
                                var correct_otp = false;
                            
                                if (otp_regex.test(fp_email_otp)) {
                                    correct_otp = true;
                                    request_for = "verify otp"
                                    $("#fp_email_otp").css('border', '2px solid green');
                                }
                                else {
                                    correct_otp = false;
                                    request_for = ""
                                    $("#fp_email_otp").css('border', '2px solid red');
                                }

                                if (correct_otp) {
                                    $("#loading_fp_btn").fadeIn(1);
                                    $("#fp_btn1").fadeOut(1);
                                    $("#fp_btn2").fadeOut(1);
                                    $("#fp_btn3").fadeOut(1);
                                    var load_vid = document.getElementById("ld4");
                                    load_vid.play();
                                    $.ajax({
                                        type: 'POST',
                                        url: 'forgot_password',
                                        data: {
                                            'fp_email': fp_email,
                                            'fp_email_otp': fp_email_otp,
                                            'request_for': request_for,
                                            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                        },

                                        success: function (response) {

                                            console.log("Status :: " + response.status);
                                            console.log("User Email :: " + response.user_email);
                                            console.log("Next action :: " + response.next_action);
                                            console.log("Error message :: " + response.error_message);

                                            if (response.status) {
                                                $("#fp_email_otp_error").fadeOut(1);
                                                $("#fp_new_password_div").fadeIn(1);
                                                $("#fp_new_re_password_div").fadeIn(1);
                                                $("#fp_email_div").fadeOut(1);
                                                $("#fp_email_otp_div").fadeOut(1);
                                                //$("#fp_btn1").fadeOut(1);
                                                $("#fp_btn2").fadeOut(1);
                                                $("#fp_btn3").fadeIn(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                                
                                            }
                                            else {
                                                $("#fp_email_otp_error").fadeIn(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                                $("#fp_btn2").fadeIn(1);
                                                //$("#fp_btn1").fadeOut(1);
                                                //$("#fp_btn2").fadeOut(1);
                                                //$("#fp_btn3").fadeIn(1);
                                                $("#fp_email_otp").css('border', '2px solid red');
                                            }
                                        }
                                    })
                                }

                            break;
                            
                            case "fp_btn3":

                                var fp_email = $("#fp_email").val();
                                var fp_new_password = $("#fp_new_password").val();
                                var fp_new_re_password = $("#fp_new_re_password").val();

                                if (password_regex.test(fp_new_password)) {
                                    correct_password = true;
                                    $("#fp_new_password").css('border', '2px solid green');
                                    //alert("correct email");

                                    if (fp_new_password == fp_new_re_password) {
                                        correct_re_password = true;
                                        request_for = "reset password"
                                        $("#fp_new_re_password").css('border', '2px solid green');
                                    }
                                    else {
                                        correct_re_password = false;
                                        $("#fp_new_re_password").css('border', '2px solid red');
                                        //alert("Password should contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
                                    }
                                }
                                else {
                                    correct_password = false;
                                    $("#fp_new_password").css('border', '2px solid red');
                                    correct_re_password = false;
                                    $("#fp_new_re_password").css('border', '2px solid red');
                                    //alert("Password should contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
                                }
                            
                                if (correct_password && correct_re_password) {
                                    $("#loading_fp_btn").fadeIn(1);
                                    $("#fp_btn1").fadeOut(1);
                                    $("#fp_btn2").fadeOut(1);
                                    $("#fp_btn3").fadeOut(1);
                                    var load_vid = document.getElementById("ld4");
                                    load_vid.play();
                                    $.ajax({
                                        type: 'POST',
                                        url: 'forgot_password',
                                        data: {
                                            'fp_email': fp_email,
                                            'fp_new_password': fp_new_password,
                                            'fp_new_re_password': fp_new_re_password,
                                            'request_for': request_for,
                                            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                        },

                                        success: function (response) {

                                            console.log("Status :: " + response.status);
                                            console.log("User Email :: " + response.user_email);
                                            console.log("Next action :: " + response.next_action);
                                            console.log("Error message :: " + response.error_message);

                                            if (response.status) {
                                                $("#fp_new_password_div").fadeOut(1);
                                                $("#fp_new_re_password_div").fadeOut(1);
                                                $("#fp_btn1").fadeOut(1);
                                                $("#fp_btn2").fadeOut(1);
                                                $("#fp_btn3").fadeOut(1);
                                                $("#fp_form_active").fadeOut(1);
                                                $("#final_msg_fp").fadeIn(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                                

                                                setTimeout(() => {
                                                    $("#final_msg_fp").fadeOut(1);
                                                    $("#main").fadeOut(1);
                                                }, 5000)
                                            }
                                            else {
                                                $("#fp_btn1").fadeOut(1);
                                                $("#fp_btn2").fadeOut(1);
                                                $("#loading_fp_btn").fadeOut(1);
                                                load_vid.pause();
                                            
                                                $("#fp_btn3").fadeIn(1);
                                            }
                                        }
                                    })
                                }

                            break;

                            default:
                                console.log("Something went wrong!")
                            break;
                        }
                        
                    })


                    $(document).on('submit', '#signup_form', function(e) {
                        e.preventDefault();
                        
                        
                        
                        var signup_user_name = $("#signup_user_name").val();
                        var signup_email = $("#signup_email").val();
                        var signup_password = $("#signup_password").val();
                        var signup_confirm_password = $("#signup_confirm_password").val();
                        
                        var correct_name, correct_email, correct_password, correct_re_password = false;
                        var name_regex = /^[a-zA-Z]+$/;
                        var email_regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                        var password_regex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;

                        if (email_regex.test(signup_email)) {
                            correct_email = true;
                            $("#signup_email").css('border', '2px solid green');
                            //alert("correct email");
                        }
                        else {
                            correct_email = false;
                            $("#signup_email").css('border', '2px solid red');
                            //alert("incorrect email");
                        }
                        
                        if (name_regex.test(signup_user_name)) {
                            correct_name = true;
                            $("#signup_user_name").css('border', '2px solid green');
                            //alert("correct email");
                        }
                        else {
                            correct_name = false;
                            $("#signup_user_name").css('border', '2px solid red');
                            //alert("incorrect email");
                        }

                        if (password_regex.test(signup_password)) {
                            correct_password = true;
                            $("#signup_password").css('border', '2px solid green');
                            //alert("correct email");
                            
                            if (signup_password == signup_confirm_password) {
                                correct_re_password = true;
                                $("#signup_confirm_password").css('border', '2px solid green');
                            }
                            else {
                                correct_re_password = false;
                                $("#signup_confirm_password").css('border', '2px solid red');
                                //alert("Password should contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
                            }
                        }
                        else {
                            correct_password = false;
                            $("#signup_password").css('border', '2px solid red');
                            correct_re_password = false;
                            $("#signup_confirm_password").css('border', '2px solid red');
                            alert("Password should contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
                        }


                        if (correct_name && correct_email && correct_password && correct_re_password) {
                            $("#loading_signup_btn").fadeIn(1);
                            $("#signup_btn").fadeOut(1);
                            var load_vid = document.getElementById("ld2");
                            load_vid.play();
                            
                            $.ajax({
                                type: 'POST',
                                url: 'create_account',
                                data: {
                                    'signup_user_name':signup_user_name,
                                    'signup_email':signup_email,
                                    'signup_password':signup_password,
                                    'signup_confirm_password':signup_confirm_password,
                                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                },

                                success: function(response) {
                                    //console.log(response)
                                    console.log("status :: " + response.status)
                                    console.log("user email :: " + response.user_email)
                                    console.log("error message" + response.error_message)
                                    console.log("next action" + response.next_action)
                                    if (response.status) {
                                        $("#login_form_active").fadeOut(1);
                                        $("#signup_form_active").fadeOut(1);
                                        $("#otp_verification_form_active").fadeIn(1);
                                        $("#signup_email_error_msg_div").fadeOut(1);
                                        $("#main").fadeIn(1);
                                        $("#loading_signup_btn").fadeOut(1);
                                        load_vid.pause();

                                        $("#signup_email").css('border', '2px solid green');
                                        $("#message_otp_verification").text("OTP sent to " + response.user_email +" \nPlease enter below")
                                    }
                                    else {
                                        $("#signup_email").css('border', '2px solid red');
                                        $("#signup_email_error_msg_div").fadeIn(1);
                                        $("#loading_signup_btn").fadeOut(1);
                                        load_vid.pause();
                                        $("#signup_btn").fadeIn(1);
                                    }
                                }
                            })
                        }
                    })


                    $(document).on('submit', '#login_form', function (e) {
                        e.preventDefault()
                        
                        
                        
                        var login_email = $("#login_email").val();
                        var login_password = $("#login_password").val();
                        
                        var correct_email = false;
                        var email_regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                        
                        if (email_regex.test(login_email)) {
                            correct_email = true;
                            $("#login_email").css('border', '2px solid green');
                            //alert("correct email");
                        }
                        else {
                            correct_email = false;
                            $("#login_email").css('border', '2px solid red');
                            //alert("incorrect email");
                        }
                            

                        if (correct_email) {
                            $("#loading_login_btn").fadeIn(1);
                            $("#login_btn").fadeOut(1);
                            var load_vid = document.getElementById("ld1");
                            load_vid.play();
                            $.ajax({
                                type: 'POST',
                                url: 'user_login',
                                data: {
                                    'login_email': login_email,
                                    'login_password': login_password,
                                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                },

                                success: function (response) {
                                    
                                    console.log("status :: " + response.status)

                                    if (response.status) {
                                        $("#login_form_active").fadeOut(1);
                                        $("#signup_form_active").fadeOut(1);
                                        $("#otp_verification_form_active").fadeOut(1);
                                        $("#main").fadeIn(1);
                                        $("#final_msg_signup").fadeOut(1);
                                        $("#login_invalid").fadeOut(1);
                                        $("#final_msg_login").fadeIn(1);
                                        $("#user_not_active").fadeOut(1);
                                        //$("#login_btn").fadeOut(1);
                                        $("#loading_login_btn").fadeOut(1);
                                        load_vid.pause();
                                        //$("#user_active").fadeIn(1);
                                    
                                        $(".popup").css('visibility','visible')
                                        $("#Error_Messgae").text("Login Successful !") 
                                     //   $("#popup_icon").text("check_circle") 

                                        setTimeout(() => {
                                            $(".popup").css('visibility','hidden')
                                            $("#final_msg_login").fadeOut(1);
                                            $("#login_invalid").fadeOut(1);
                                            $("#main").fadeOut(1);
                                            window.location = "{% url 'home' %}";
                                        }, 3000)
                                        
                                    }
                                    else {
                                        $("#login_invalid").fadeIn(1);
                                        $("#loading_login_btn").fadeOut(1);
                                        load_vid.pause();
                                        $("#login_btn").fadeIn(1);
                                        
                                        console.log("user exists :: " + response.user_exists);
                                        if (response.user_exists) {
                                            $("#login_email").css('border', '2px solid green');
                                            $("#login_password").css('border', '2px solid red');
                                        }
                                        else {
                                            $("#login_email").css('border', '2px solid red');
                                            $("#login_password").css('border', '2px solid red');
                                        }
                                    }
                                }
                            })
                        }
                    })


                    $(document).on('submit', '#otp_verification_form', function(e) {
                        e.preventDefault();
                        
                       
                        var signup_otp = $("#signup_otp_verification").val();
                        
                        var signup_user_name = $("#signup_user_name").val();
                        var signup_email = $("#signup_email").val();
                        var signup_password = $("#signup_password").val();
                        var signup_confirm_password = $("#signup_confirm_password").val();
                        
                        var otp_regex = /^[0-9]+$/;
                        var correct_otp = false;

                        if (otp_regex.test(signup_otp)) {
                            correct_otp = true;
                            $("#signup_otp_verification").css('border', '2px solid green');
                        } 
                        else {
                            correct_otp = false;
                            $("#signup_otp_verification").css('border', '2px solid red');
                        }


                        if (correct_otp) {
                            $("#loading_otp_v_btn").fadeIn(1);
                            $("#otp_v_btn").fadeOut(1);
                            var load_vid = document.getElementById("ld3");
                            load_vid.play();
    
                            $.ajax({
                                type: 'POST',
                                url: 'otp_verification',
                                data: {
                                    'signup_otp': signup_otp,
                                    'signup_user_name': signup_user_name,
                                    'signup_email': signup_email,
                                    'signup_password': signup_password,
                                    'signup_confirm_password': signup_confirm_password,
                                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                },

                                success: function (response) {
                                    console.log(response)

                                    if (response.status) {
                                        $("#login_form_active").fadeOut(1);
                                        $("#signup_form_active").fadeOut(1);
                                        $("#otp_verification_form_active").fadeOut(1);
                                        $("#main").fadeIn(1);
                                        $("#final_msg_signup").fadeIn(1);
                                        $("#loading_otp_v_btn").fadeOut(1);
                                        load_vid.pause();

                                        setTimeout(() => {
                                            $("#final_msg_signup").fadeOut(1);
                                            $("#main").fadeOut(1);
                                            window.location = "{% url 'home' %}";
                                        }, 500)
                                    }
                                    else {
                                        
                                        $("#loading_otp_v_btn").fadeOut(1);
                                        load_vid.pause();
                                        $("#otp_v_btn").fadeIn(1);
                                        
                                        $("#signup_otp_verification").css('border', '2px solid red');
                                    }
                                }
                            })
                        }


                    })


                    $(document).on('click', '.fp_back_form', function(e) {
                        e.preventDefault();
                        
                        $("#fp_form_active").fadeOut(1);
                        $("#login_form_active").fadeIn(1);
                        
                        //alert("working! ")
                    })

                    function show_login_form() {
                        $("#main").fadeIn(1);
                        $("#fp_form_active").fadeOut(1);
                        $("#login_form_active").fadeIn(1);
                        $("#signup_form_active").fadeOut(1);
                    }
                    
                    function show_signup_form() {
                        $("#main").fadeIn(1);
                        $("#fp_form_active").fadeOut(1);
                        $("#signup_form_active").fadeIn(1);
                        $("#login_form_active").fadeOut(1);
                    }
                    
                    function main_div_toggle() {
                        $("#main").fadeToggle(1);
                        $("#fp_form_active").fadeOut(1);
                        $("#login_form_active").fadeOut(1);
                        $("#signup_form_active").fadeIn(1);
                    }

                    function show_form_section() {
                        $("#main").fadeIn(1);
                    }

                    function show_forgot_password() {
                        $("#login_form_active").fadeOut(1);
                        $("#signup_form_active").fadeOut(1);
                        $("#fp_form_active").fadeIn(1);
                    }

                    function toggle_forms() {
                        $("#login_form_active").fadeToggle(5);
                        $("#signup_form_active").fadeToggle(5);
                        $("#loading_login_btn").fadeOut(1);
                        $("#loading_signup_btn").fadeOut(1);
                        $("#login_btn").fadeIn(1);
                        $("#signup_btn").fadeIn(1);
                    }



                </script>
              
            </div>
        </section>


        

        <!-- Intro -->
        <section id="intro" class="wrapper style1">
            <div class="title">Introduction</div>
            <div class="container">
                <p class="style2">
                    Artificial interviewer bot who takes actual interviews.<br class="mobile-hide" />
                </p>
                <p class="style3">It's <strong>Smart</strong>, built on <strong>HTML, CSS, Javascript, Python</strong> 
                    and It is build for peoples who are not able to give interviews properly.
                    It is <strong>Free</strong> And easy to use. After your interview it will give you a proper report of your interview.
                    Use it and share your reviews.
                </p>
                <ul class="actions">
                       <li><a href="#main" class="button style3 large" onclick="show_signup_form()">Proceed</a></li>
                </ul>
            </div>
        </section>


        <!-- Footer -->
        <section id="footer" class="wrapper">
            <div class="title">About us</div>
            <div class="container">
                <header class="style1">
    
                    <p>
                        Share your reviews.! Thanks for visiting us.!
                    </p>
                </header>
                <div class="row">
                    <div class="col-6 col-12-medium">

                        <!-- Contact Form -->
                        <section>
                            <form method="POST" id="short_reviews_email_form">
                                <div class="row gtr-50">
                                    <div class="col-6 col-12-small">
                                        <input type="text" name="name" id="contact-name" placeholder="Name" />
                                    </div>
                                    <div class="col-6 col-12-small">
                                        <input type="email" name="email" id="contact-email" placeholder="Email" />
                                    </div>
                                    <div class="col-12">
                                        <textarea name="message" id="contact-message" placeholder="Write your reviews or about bugs and suggetions..."
                                            rows="4"></textarea>
                                    </div>
                                    <div class="col-12">
                                        <ul class="actions">
                                            <li><input id="contact-button" type="submit" class="style1" value="Send" /></li>
                                            <li><input type="reset" class="style2" value="Reset" /></li>
                                        </ul>
                                    </div>
                                </div>
                            </form>
                        
                            <script type="text/javascript">

                                $(document).on('submit', '#short_reviews_email_form', function (e) {
                                    e.preventDefault();

                                    var msg_sender_name = $("#contact-name").val();
                                    var msg_sender_email = $("#contact-email").val();
                                    var msg_sender_message = $("#contact-message").val();
                                    var name_regex = /^[a-zA-Z]+$/;
                                    var email_regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                                    var correct_name, correct_email = false;

                                    if (email_regex.test(msg_sender_email)) {
                                        correct_email = true;
                                        $("#contact-email").css('border', '2px solid green');
                                        //alert("correct email");
                                    }
                                    else {
                                        correct_email = false;
                                        $("#contact-email").css('border', '2px solid red');
                                        //alert("incorrect email");
                                    }

                                    if (name_regex.test(msg_sender_name)) {
                                        correct_name = true;
                                        $("#contact-name").css('border', '2px solid green');
                                        //alert("correct email");
                                    }
                                    else {
                                        correct_name = false;
                                        $("#contact-name").css('border', '2px solid red');
                                        //alert("incorrect email");
                                    }

                                    if (correct_name && correct_email) {
                                        $.ajax({
                                            type: 'POST',
                                            url: 'short_reviwes',
                                            data: {
                                                'msg_sender_name': msg_sender_name,
                                                'msg_sender_email': msg_sender_email,
                                                'msg_sender_message': msg_sender_message,
                                                csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
                                            },
                                            success: function(response) {
                                                console.log(response);
                                            }
                                        })
                                    }


                                })

                            </script>
                        
                        </section>

                    </div>
                    <div class="col-6 col-12-medium">

                        <!-- Contact -->
                        <section class="feature-list small">
                            <div class="row">
                                <div class="col-6 col-12-small">
                                    <section>
                                        <h3 class="icon solid fa-home">Mailing Address</h3>
                                        <p>
                                           Don Bosco Institute of Technology, Kurla
                                        </p>
                                    </section>
                                </div>
                                <div class="col-6 col-12-small">
                                    <section>
                                        <h3 class="icon solid fa-comment">Social</h3>
                                        <p>
                                            <a href="#">Facebook</a><br />
                                            <a href="#">Linkedin</a><br />
                    
                                        </p>
                                    </section>
                                </div>
                                <div class="col-6 col-12-small">
                                    <section>
                                        <h3 class="icon solid fa-envelope">Email</h3>
                                        <p>
                                            <a href="#">hirebot.io@ gmail.com</a>
                                        </p>
                                    </section>
                                </div>
                                <div class="col-6 col-12-small">
                                    <section>
                                        <h3 class="icon solid fa-phone">Phone</h3>
                                        <p>
                                            8262015822 <br>
                                            8928668892
                                        </p>
                                    </section>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
                <div id="copyright">
                    <!-- <ul>
                        <li>&copy; Untitled.</li>
                        <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                    </ul> -->

                    <p>HIREBOT.IO &copy; 2024 | All Rights Resevered </p>

                </div>



            </div>
        </section>

    </div>

    <!-- Scripts -->
    <script src="{% static 'assets/js/jquery.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.dropotron.min.js' %}"></script>
    <script src="{% static 'assets/js/browser.min.js' %}"></script>
    <script src="{% static 'assets/js/breakpoints.min.js' %}"></script>
    <script src="{% static 'assets/js/util.js' %}"></script>
    <script src="{% static 'assets/js/main.js' %}"></script>

</body>

</html>